// –°–∫—Ä–∏–ø—Ç –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è weights –∏ steelCoefficients –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

const fs = require('fs');
const path = require('path');

// –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ç–µ–∫—É—â—É—é –±–∞–∑—É
const dbPath = path.join(__dirname, 'docs', 'database', 'metals.json');
const db = JSON.parse(fs.readFileSync(dbPath, 'utf8'));

console.log('üì¶ –ó–∞–≥—Ä—É–∂–µ–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö. –ú–µ—Ç–∞–ª–ª–æ–≤:', Object.keys(db.metals).length);

// ===== 1. –ö–†–£–ì (circle) =====
console.log('\n1Ô∏è‚É£  –û–±–Ω–æ–≤–ª—è—é –ö–†–£–ì...');

const circleWeights = {
  "3": 0.007006369427,
  "4": 0.012611464968,
  "5": 0.019617834395,
  "6": 0.028280254777,
  "7": 0.03847133758,
  "8": 0.050318471338,
  "9": 0.063566878981,
  "10": 0.07847133758,
  "11": 0.095031847134,
  "12": 0.113121019108,
  "13": 0.132738853503,
  "14": 0.153885350318,
  "15": 0.176687898089,
  "16": 0.20101910828,
  "17": 0.227006369427,
  "18": 0.254522292994,
  "19": 0.283566878981,
  "20": 0.314140127389,
  "21": 0.346369426752,
  "22": 0.380127388535,
  "23": 0.415414012739,
  "24": 0.452356687898,
  "25": 0.490828025478,
  "26": 0.530955414013,
  "27": 0.572611464968,
  "28": 0.615796178344,
  "29": 0.66050955414,
  "30": 0.706878980892,
  "31": 0.754777070064,
  "32": 0.804203821656,
  "33": 0.855286624204,
  "34": 0.907898089172,
  "35": 0.962165605096,
  "36": 1.017834394904,
  "37": 1.075159235669,
  "38": 1.134140127388,
  "39": 1.194649681529,
  "40": 1.256687898089,
  "41": 1.32025477707,
  "42": 1.385477707006,
  "43": 1.452229299363,
  "44": 1.52050955414,
  "45": 1.590445859873,
  "46": 1.661910828025,
  "47": 1.734904458599,
  "48": 1.809554140127,
  "49": 1.885732484076,
  "50": 1.963439490446,
  "52": 2.123694267516,
  "53": 2.206242038217,
  "54": 2.290191082803,
  "55": 2.375796178344,
  "56": 2.463057324841,
  "57": 2.551719745223,
  "58": 2.642038216561,
  "60": 2.827388535032,
  "61": 2.922420382166,
  "62": 3.019108280255,
  "63": 3.117197452229,
  "65": 3.318343949045,
  "67": 3.525605095541,
  "68": 3.631719745223,
  "70": 3.848407643312,
  "72": 4.071464968153,
  "73": 4.185350318471,
  "75": 4.417834394905,
  "77": 4.656687898089,
  "78": 4.778343949045,
  "80": 5.026496815287,
  "82": 5.28101910828,
  "83": 5.410573248408,
  "85": 5.674522292994,
  "87": 5.944713375796,
  "90": 6.36178343949,
  "95": 7.088280254777,
  "100": 7.854012738854,
  "102": 8.171337579618,
  "105": 8.65898089172,
  "110": 9.503312101911,
  "115": 10.386878980892,
  "120": 11.309808917197,
  "125": 12.271847133758,
  "130": 13.273248407643,
  "132": 13.684840764331,
  "135": 14.313885350318,
  "140": 15.393885350318,
  "145": 16.512993630573,
  "150": 17.671464968153,
  "155": 18.869171974522,
  "160": 20.106242038217,
  "163": 20.867261146497,
  "165": 21.382547770701,
  "170": 22.698089171975,
  "172": 23.235286624204,
  "175": 24.052866242038,
  "180": 25.447006369427,
  "182": 26.015541401274,
  "185": 26.88025477707,
  "190": 28.352993630573,
  "195": 29.864840764331,
  "200": 31.416050955414,
  "205": 33.006369426752,
  "210": 34.636178343949,
  "220": 38.013375796178,
  "230": 41.547643312102,
  "240": 45.23898089172,
  "245": 47.143566878981,
  "250": 49.087515923567,
  "260": 53.092993630573,
  "270": 57.255668789809,
  "280": 61.575414012739,
  "290": 66.052101910828,
  "295": 68.349426751592,
  "300": 70.685987261146,
  "310": 75.476942675159,
  "320": 80.424968152866,
  "330": 85.530063694268,
  "340": 90.792229299363,
  "345": 93.482165605096,
  "350": 96.211464968153,
  "355": 98.98,
  "360": 101.78777070064,
  "370": 107.52127388535,
  "380": 113.41171974522,
  "390": 119.45936305732,
  "400": 125.66394904459,
  "410": 132.02573248408,
  "415": 135.26547770701,
  "420": 138.54458598726,
  "430": 145.22050955414,
  "440": 152.05337579618,
  "450": 159.04343949045,
  "460": 166.19057324841,
  "470": 173.4949044586,
  "475": 177.20585987261,
  "480": 180.95617834395,
  "490": 188.57452229299,
  "500": 196.34993630573,
  "505": 200.29668789809,
  "510": 204.2825477707,
  "520": 212.37210191083,
  "530": 220.61885350318,
  "540": 229.02267515924,
  "550": 237.58343949045,
  "560": 246.30140127389,
  "570": 255.17643312102,
  "580": 264.20853503185,
  "590": 273.39770700637,
  "595": 278.05121019108,
  "600": 282.74394904459,
  "610": 292.24738853503,
  "620": 301.90777070064,
  "630": 311.72522292994,
  "650": 331.83146496815,
  "670": 352.56611464968,
  "680": 363.16891719745,
  "700": 384.84598726115,
  "740": 430.0850955414,
  "750": 441.78751592357,
  "880": 608.21375796178,
  "930": 679.29248407643,
  "1100": 950.33401273885,
  "‚îÄ‚îÄ‚îÄ‚îÄ": 0.004840764331,
  "2.5": 0.004840764331,
  "3.1": 0.007515923567,
  "3.3": 0.008535031847,
  "3.5": 0.009554140127,
  "3.6": 0.010191082803,
  "4.5": 0.015923566879,
  "4.8": 0.018089171975,
  "5.2": 0.02127388535,
  "5.3": 0.022038216561,
  "5.4": 0.022929936306,
  "5.5": 0.023694267516,
  "5.6": 0.024585987261,
  "6.5": 0.033121019108,
  "6.7": 0.035286624204,
  "7.1": 0.039617834395,
  "7.5": 0.044203821656,
  "7.8": 0.047770700637,
  "8.5": 0.056687898089,
  "9.5": 0.070828025478,
  "10.2": 0.081656050955,
  "10.8": 0.091592356688,
  "11.2": 0.09847133758,
  "11.5": 0.103821656051,
  "12.3": 0.118853503185,
  "12.5": 0.122675159236,
  "14.5": 0.165095541401,
  "14.68": 0.169299363057,
  "18.32": 0.263566878981,
  "20.5": 0.330063694268,
  "22.5": 0.397579617834
};

const steelCoefficients = {
  "—Å—Ç08": 7.871,
  "—Å—Ç0": 7.85,
  "—Å—Ç1": 7.85,
  "—Å—Ç2": 7.85,
  "—Å—Ç3": 7.85,
  "—Å—Ç10": 7.856,
  "—Å—Ç15": 7.85,
  "—Å—Ç20": 7.859,
  "—Å—Ç30": 7.85,
  "—Å—Ç35": 7.826,
  "—Å—Ç40": 7.85,
  "—Å—Ç45": 7.826,
  "—Å—Ç50": 7.81,
  "—Å—Ç55": 7.82,
  "—Å—Ç60": 7.8,
  "08–ì–î–ù–§–õ": 7.85,
  "09–ì2–°": 7.85,
  "3–•3–ú3–§": 7.828,
  "4–•4–í–ú–§–°": 7.808,
  "4–•5–ú–§1–°": 7.716,
  "9–•2–ú–§": 7.84,
  "9–•18": 7.75,
  "9–•–°": 7.83,
  "10–ì2": 7.79,
  "12–ú–•": 7.82,
  "12–•1–ú–§": 7.86,
  "12–•2–ú–§–ë": 7.859,
  "12–•2–ù4–ê": 7.817,
  "12–•5–ú–ê": 7.7,
  "12–•–ú": 7.85,
  "12–•–ù2": 7.79,
  "12–•–ù3–ê": 7.86,
  "15–ì": 7.81,
  "15–ö": 7.83,
  "15–õ": 7.8,
  "15–•": 7.83,
  "15–•1–ú1–§": 7.86,
  "15–•5–ú": 7.59,
  "15–•–ú": 7.82,
  "15–•–§": 7.811,
  "16–ì–°": 7.85,
  "17–ì1–°": 7.85,
  "18–•2–ù4–í–ê": 7.85,
  "18–•2–ù4–ú–ê": 7.85,
  "18–•–ì–¢": 7.85,
  "20–ì": 7.82,
  "20–ö": 7.83,
  "20–õ": 7.8,
  "20–•": 7.83,
  "20–•2–ù4–ê": 7.817,
  "20–•3–ú–í–§": 7.8,
  "20–•–ì–†": 7.85,
  "20–•–ì–°–ê": 7.85,
  "20–•–ú–õ": 7.72,
  "20–•–ù3–ê": 7.86,
  "25–õ": 7.8,
  "25–•1–ú–§": 7.87,
  "25–•2–ú1–§": 7.86,
  "25–•–ì–°–ê": 7.85,
  "30–ì": 7.81,
  "30–õ": 7.8,
  "30–•": 7.82,
  "30–•–ì–ú–ê": 7.85,
  "30–•–ì–°–ê": 7.85,
  "30–•–ì–°–ù2–ê": 7.85,
  "30–•–ú": 7.85,
  "30–•–ú–ê": 7.85,
  "30–•–ù3–ê": 7.86,
  "33–•–°": 7.83,
  "34–•–ù3–ú": 7.86,
  "34–•–ù3–ú–ê": 7.86,
  "35–ì2": 7.79,
  "35–õ": 7.8,
  "35–•–ì–°–õ": 7.85,
  "35–•–ú": 7.82,
  "35–•–ú–õ": 7.72,
  "35–•–ú–§–õ": 7.83,
  "38–•2–ú–Æ–ê": 7.82,
  "38–•–ê": 7.83,
  "38–•–ú–Æ–ê": 7.82,
  "38–•–ù3–ú–§–ê": 7.86,
  "38–•–°": 7.83,
  "40–ì": 7.81,
  "40–ì2": 7.79,
  "40–õ": 7.8,
  "40–•": 7.85,
  "40–•–õ": 7.72,
  "40–•–ù": 7.83,
  "40–•–ù2–ú–ê": 7.86,
  "40–•–ù–ú–ê": 7.85,
  "40–•–°": 7.83,
  "40–•–§–ê": 7.821,
  "45–ì2": 7.81,
  "45–õ": 7.8,
  "45–•": 7.82,
  "45–•–ù": 7.83,
  "50–ì": 7.81,
  "50–ì2": 7.5,
  "50–õ": 7.8,
  "50–•": 7.82,
  "50–•–ù": 7.83,
  "50–•–§–ê": 7.816,
  "60–°2": 7.85,
  "60–°2–ê": 7.85,
  "65–ì": 7.85,
  "75–•–ú": 7.82,
  "–ê12": 7.72,
  "–î–ò22": 7.5,
  "–†6–ú3": 8.47,
  "–†6–ú5–ö5": 8.49,
  "–†9": 8.6,
  "–†9–ú4–ö8": 8.4,
  "–†12": 8.66,
  "–†18": 8.8,
  "–£7": 7.83,
  "–£7–ê": 7.83,
  "–£8": 7.839,
  "–£8–ê": 7.839,
  "–£9": 7.838,
  "–£9–ê": 7.838,
  "–£10": 7.81,
  "–£10–ê": 7.81,
  "–£12": 7.83,
  "–£12–ê": 7.83,
  "–•5–ú": 7.75,
  "–•17": 7.7,
  "–•–í–ì": 7.8,
  "–®–•15": 7.81,
  "–®–•15–°–ì": 7.65,
  "–≠–ò10": 7.85,
  "–≠–ò229": 8.21,
  "–≠–ò415": 7.9,
  "–≠–ò531": 8,
  "–≠–ò575": 7.82,
  "–≠–ò579": 7.88,
  "–≠–ò723": 8.7,
  "–≠–ü572": 7.9
};

// –î–æ–±–∞–≤–∏—Ç—å weights –∏ steelCoefficients –∫ circle
if (db.metals.circle) {
  db.metals.circle.weights = circleWeights;
  db.metals.circle.steelCoefficients = steelCoefficients;
  console.log(`   ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ ${Object.keys(circleWeights).length} –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ –≤–µ—Å–∞`);
  console.log(`   ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ ${Object.keys(steelCoefficients).length} –º–∞—Ä–æ–∫ —Å—Ç–∞–ª–∏`);
} else {
  console.log('   ‚ùå –¢–∏–ø circle –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –±–∞–∑–µ!');
}

// –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –±–∞–∑—É
fs.writeFileSync(dbPath, JSON.stringify(db, null, 2), 'utf8');
console.log('\nüíæ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞!');
console.log('üìÅ –§–∞–π–ª:', dbPath);
