// Ğ¢ĞµÑÑ‚Ñ‹ Ğ´Ğ»Ñ ĞŸĞ¾Ğ»Ğ¾ÑÑ‹

const { calculateMetal } = require('./src/calculator');
const metalDatabase = require('./docs/database/metals.json');

console.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
console.log('ğŸ§ª Ğ¢Ğ•Ğ¡Ğ¢Ğ« Ğ”Ğ›Ğ¯ ĞŸĞĞ›ĞĞ¡Ğ«');
console.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n');

// ============================================================================
// Ğ¢Ğ•Ğ¡Ğ¢ 1: ĞŸĞ¾Ğ»Ğ¾ÑĞ° 10Ã—50, Ğ´Ğ»Ğ¸Ğ½Ğ° 10Ğ¼, ÑÑ‚3
// ============================================================================

console.log('ğŸ“‹ Ğ¢Ğ•Ğ¡Ğ¢ 1: ĞŸĞ¾Ğ»Ğ¾ÑĞ° 10Ã—50, Ğ´Ğ»Ğ¸Ğ½Ğ° 10Ğ¼, ÑÑ‚3');
console.log('â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n');

const test1 = calculateMetal({
  metalType: 'strip',
  size: '10Ñ…50',
  length: 10,
  steelType: 'ÑÑ‚3'
}, metalDatabase);

console.log('ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹:');
console.log('  Ğ Ğ°Ğ·Ğ¼ĞµÑ€: 10Ã—50');
console.log('  Ğ”Ğ»Ğ¸Ğ½Ğ°: 10 Ğ¼');
console.log('  ĞœĞ°Ñ€ĞºĞ° ÑÑ‚Ğ°Ğ»Ğ¸: ÑÑ‚3 (7.85 Ñ‚/Ğ¼Â³)');
console.log('  ĞšĞ¾ÑÑ„Ñ„Ğ¸Ñ†Ğ¸ĞµĞ½Ñ‚: 0.5 ĞºĞ³/Ğ¼\n');

console.log('Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚:');
console.log(`  weightPerMeter (Ğ²ĞµÑ 1 Ğ¼): ${test1.weightPerMeter} ĞºĞ³`);
console.log(`  weight (Ğ²ĞµÑ): ${test1.weight} Ñ‚\n`);

console.log('Ğ Ğ°ÑÑ‡Ñ‘Ñ‚:');
console.log('  Ğ²ĞµÑ = 0.5 Ã— 10 Ã— (7.85 / 7.85) = 0.5 Ã— 10 Ã— 1 = 5 ĞºĞ³ = 0.005 Ñ‚\n');

const expected1 = 0.005;
const diff1 = Math.abs(test1.weight - expected1);
console.log(`ĞĞ¶Ğ¸Ğ´Ğ°ĞµÑ‚ÑÑ: ${expected1} Ñ‚`);
console.log(`ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¾: ${test1.weight} Ñ‚`);
console.log(`ğŸ“Š Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ: ${diff1 < 0.0001 ? 'âœ… PASSED' : 'âŒ FAILED'}\n`);

// ============================================================================
// Ğ¢Ğ•Ğ¡Ğ¢ 2: ĞŸĞ¾Ğ»Ğ¾ÑĞ° 20Ã—100, Ğ´Ğ»Ğ¸Ğ½Ğ° 10Ğ¼, ÑÑ‚45
// ============================================================================

console.log('ğŸ“‹ Ğ¢Ğ•Ğ¡Ğ¢ 2: ĞŸĞ¾Ğ»Ğ¾ÑĞ° 20Ã—100, Ğ´Ğ»Ğ¸Ğ½Ğ° 10Ğ¼, ÑÑ‚45');
console.log('â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n');

const test2 = calculateMetal({
  metalType: 'strip',
  size: '20Ñ…100',
  length: 10,
  steelType: 'ÑÑ‚45'
}, metalDatabase);

console.log('ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹:');
console.log('  Ğ Ğ°Ğ·Ğ¼ĞµÑ€: 20Ã—100');
console.log('  Ğ”Ğ»Ğ¸Ğ½Ğ°: 10 Ğ¼');
console.log('  ĞœĞ°Ñ€ĞºĞ° ÑÑ‚Ğ°Ğ»Ğ¸: ÑÑ‚45 (7.826 Ñ‚/Ğ¼Â³)');
console.log('  ĞšĞ¾ÑÑ„Ñ„Ğ¸Ñ†Ğ¸ĞµĞ½Ñ‚: 2 ĞºĞ³/Ğ¼\n');

console.log('Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚:');
console.log(`  weightPerMeter (Ğ²ĞµÑ 1 Ğ¼): ${test2.weightPerMeter} ĞºĞ³`);
console.log(`  weight (Ğ²ĞµÑ): ${test2.weight} Ñ‚\n`);

console.log('Ğ Ğ°ÑÑ‡Ñ‘Ñ‚:');
console.log('  Ğ²ĞµÑ = 2 Ã— 10 Ã— (7.826 / 7.85) = 2 Ã— 10 Ã— 0.996942 = 19.93885 ĞºĞ³ â‰ˆ 0.0199 Ñ‚\n');

const expected2 = 0.019938853503184716;  // Ğ¢Ğ¾Ñ‡Ğ½Ğ¾Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ
const diff2 = Math.abs(test2.weight - expected2);
console.log(`ĞĞ¶Ğ¸Ğ´Ğ°ĞµÑ‚ÑÑ: â‰ˆ 0.0199 Ñ‚`);
console.log(`ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¾: ${test2.weight} Ñ‚`);
console.log(`ğŸ“Š Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ: ${diff2 < 0.0001 ? 'âœ… PASSED' : 'âŒ FAILED'}\n`);

// ============================================================================
// Ğ¢Ğ•Ğ¡Ğ¢ 3: ĞŸĞ¾Ğ»Ğ¾ÑĞ° 50Ã—500, Ğ´Ğ»Ğ¸Ğ½Ğ° 1Ğ¼, ÑÑ‚3
// ============================================================================

console.log('ğŸ“‹ Ğ¢Ğ•Ğ¡Ğ¢ 3: ĞŸĞ¾Ğ»Ğ¾ÑĞ° 50Ã—500, Ğ´Ğ»Ğ¸Ğ½Ğ° 1Ğ¼, ÑÑ‚3');
console.log('â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n');

const test3 = calculateMetal({
  metalType: 'strip',
  size: '50Ñ…500',
  length: 1,
  steelType: 'ÑÑ‚3'
}, metalDatabase);

console.log('ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹:');
console.log('  Ğ Ğ°Ğ·Ğ¼ĞµÑ€: 50Ã—500');
console.log('  Ğ”Ğ»Ğ¸Ğ½Ğ°: 1 Ğ¼');
console.log('  ĞœĞ°Ñ€ĞºĞ° ÑÑ‚Ğ°Ğ»Ğ¸: ÑÑ‚3 (7.85 Ñ‚/Ğ¼Â³)');
console.log('  ĞšĞ¾ÑÑ„Ñ„Ğ¸Ñ†Ğ¸ĞµĞ½Ñ‚: 25 ĞºĞ³/Ğ¼\n');

console.log('Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚:');
console.log(`  weightPerMeter (Ğ²ĞµÑ 1 Ğ¼): ${test3.weightPerMeter} ĞºĞ³`);
console.log(`  weight (Ğ²ĞµÑ): ${test3.weight} Ñ‚\n`);

console.log('Ğ Ğ°ÑÑ‡Ñ‘Ñ‚:');
console.log('  Ğ²ĞµÑ = 25 Ã— 1 Ã— (7.85 / 7.85) = 25 ĞºĞ³ = 0.025 Ñ‚\n');

const expected3 = 0.025;
const diff3 = Math.abs(test3.weight - expected3);
console.log(`ĞĞ¶Ğ¸Ğ´Ğ°ĞµÑ‚ÑÑ: ${expected3} Ñ‚`);
console.log(`ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¾: ${test3.weight} Ñ‚`);
console.log(`ğŸ“Š Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ: ${diff3 < 0.0001 ? 'âœ… PASSED' : 'âŒ FAILED'}\n`);

// ============================================================================
// Ğ¢Ğ•Ğ¡Ğ¢ 4: Ğ¡ Ğ´Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¼Ğ¸ Ğ¿Ğ¾Ğ»ÑĞ¼Ğ¸ (Ğ´Ğ»Ğ¸Ğ½Ğ° 1 ÑˆÑ‚ Ã— ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾)
// ============================================================================

console.log('ğŸ“‹ Ğ¢Ğ•Ğ¡Ğ¢ 4: Ğ¡ Ğ´Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¼Ğ¸ Ğ¿Ğ¾Ğ»ÑĞ¼Ğ¸ (Ğ´Ğ»Ğ¸Ğ½Ğ° 1 ÑˆÑ‚ Ã— ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾)');
console.log('â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n');

const test4 = calculateMetal({
  metalType: 'strip',
  size: '10Ñ…50',
  lengthSheet: 6,
  pieces: 5,
  steelType: 'ÑÑ‚3'
}, metalDatabase);

console.log('ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹:');
console.log('  Ğ Ğ°Ğ·Ğ¼ĞµÑ€: 10Ã—50');
console.log('  Ğ”Ğ»Ğ¸Ğ½Ğ° 1 ÑˆÑ‚: 6 Ğ¼');
console.log('  ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ ÑˆÑ‚ÑƒĞº: 5 ÑˆÑ‚');
console.log('  ĞœĞ°Ñ€ĞºĞ° ÑÑ‚Ğ°Ğ»Ğ¸: ÑÑ‚3 (7.85 Ñ‚/Ğ¼Â³)');
console.log('  ĞšĞ¾ÑÑ„Ñ„Ğ¸Ñ†Ğ¸ĞµĞ½Ñ‚: 0.5 ĞºĞ³/Ğ¼\n');

console.log('Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚:');
console.log(`  weightPerMeter (Ğ²ĞµÑ 1 Ğ¼): ${test4.weightPerMeter} ĞºĞ³`);
console.log(`  actual length (Ğ¾Ğ±Ñ‰Ğ°Ñ Ğ´Ğ»Ğ¸Ğ½Ğ°): ${test4.actual.length} Ğ¼`);
console.log(`  weight (Ğ²ĞµÑ): ${test4.weight} Ñ‚\n`);

console.log('Ğ Ğ°ÑÑ‡Ñ‘Ñ‚:');
console.log('  Ğ¾Ğ±Ñ‰Ğ°Ñ_Ğ´Ğ»Ğ¸Ğ½Ğ° = 6 Ã— 5 = 30 Ğ¼');
console.log('  Ğ²ĞµÑ = 0.5 Ã— 30 Ã— (7.85 / 7.85) = 15 ĞºĞ³ = 0.015 Ñ‚\n');

const expected4 = 0.015;
const diff4 = Math.abs(test4.weight - expected4);
console.log(`ĞĞ¶Ğ¸Ğ´Ğ°ĞµÑ‚ÑÑ: ${expected4} Ñ‚`);
console.log(`ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¾: ${test4.weight} Ñ‚`);
console.log(`ğŸ“Š Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ: ${diff4 < 0.0001 ? 'âœ… PASSED' : 'âŒ FAILED'}\n`);

// ============================================================================
// Ğ˜Ğ¢ĞĞ“Ğ˜
// ============================================================================

console.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
console.log('ğŸ“Š Ğ˜Ğ¢ĞĞ“Ğ˜ Ğ¢Ğ•Ğ¡Ğ¢Ğ˜Ğ ĞĞ’ĞĞĞ˜Ğ¯');
console.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n');

const allPassed = (
  diff1 < 0.0001 &&
  diff2 < 0.0001 &&
  diff3 < 0.0001 &&
  diff4 < 0.0001
);

if (allPassed) {
  console.log('âœ… Ğ’Ğ¡Ğ• Ğ¢Ğ•Ğ¡Ğ¢Ğ« ĞŸĞ ĞĞ™Ğ”Ğ•ĞĞ« Ğ£Ğ¡ĞŸĞ•Ğ¨ĞĞ!\n');
  console.log('ğŸ‰ ĞŸĞ¾Ğ»Ğ¾ÑĞ° Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾:');
  console.log('   1. Ğ Ğ°ÑÑ‡Ñ‘Ñ‚ Ñ ÑÑ‚3 Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ (Ñ‚ĞµÑÑ‚ 1 Ğ¸ 3)');
  console.log('   2. ĞœĞ°Ñ€ĞºĞ° ÑÑ‚Ğ°Ğ»Ğ¸ Ğ²Ğ»Ğ¸ÑĞµÑ‚ Ğ½Ğ° Ğ²ĞµÑ (Ñ‚ĞµÑÑ‚ 2)');
  console.log('   3. Ğ”Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ğ¿Ğ¾Ğ»Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ÑÑ‚ (Ñ‚ĞµÑÑ‚ 4: Ğ´Ğ»Ğ¸Ğ½Ğ° 1 ÑˆÑ‚ Ã— ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾)');
  console.log('   4. Ğ¤Ğ¾Ñ€Ğ¼ÑƒĞ»Ğ° Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾: Ğ²ĞµÑ = ĞºĞ¾ÑÑ„Ñ„Ğ¸Ñ†Ğ¸ĞµĞ½Ñ‚ Ã— Ğ´Ğ»Ğ¸Ğ½Ğ° Ã— (Ğ¿Ğ»Ğ¾Ñ‚Ğ½Ğ¾ÑÑ‚ÑŒ_ÑÑ‚Ğ°Ğ»Ğ¸ / 7.85)\n');
  console.log('âœ… Ğ¤Ğ¾Ñ€Ğ¼ÑƒĞ»Ğ° Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾!');
} else {
  console.log('âŒ ĞĞ•ĞšĞĞ¢ĞĞ Ğ«Ğ• Ğ¢Ğ•Ğ¡Ğ¢Ğ« ĞĞ• ĞŸĞ ĞĞ¨Ğ›Ğ˜!\n');
  console.log(`Ğ¢ĞµÑÑ‚ 1: ${diff1 < 0.0001 ? 'âœ…' : 'âŒ'}`);
  console.log(`Ğ¢ĞµÑÑ‚ 2: ${diff2 < 0.0001 ? 'âœ…' : 'âŒ'}`);
  console.log(`Ğ¢ĞµÑÑ‚ 3: ${diff3 < 0.0001 ? 'âœ…' : 'âŒ'}`);
  console.log(`Ğ¢ĞµÑÑ‚ 4: ${diff4 < 0.0001 ? 'âœ…' : 'âŒ'}`);
}

console.log('\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
