#!/usr/bin/env node
/**
 * Ğ¢Ğ•Ğ¡Ğ¢Ğ« Ğ”Ğ›Ğ¯ ĞŸĞ›Ğ˜Ğ¢Ğ«
 *
 * ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµĞ¼, Ñ‡Ñ‚Ğ¾ ĞŸĞ»Ğ¸Ñ‚Ğ° Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾ Ñ€Ğ°ÑÑÑ‡Ğ¸Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ²ĞµÑ Ñ ÑƒÑ‡Ñ‘Ñ‚Ğ¾Ğ¼ Ğ¼Ğ°Ñ€ĞºĞ¸ ÑÑ‚Ğ°Ğ»Ğ¸
 * Ğ¤Ğ¾Ñ€Ğ¼ÑƒĞ»Ğ°: Ğ²ĞµÑ_ĞºĞ³ = ĞºĞ¾ÑÑ„Ñ„Ğ¸Ñ†Ğ¸ĞµĞ½Ñ‚ Ã— Ğ¿Ğ»Ğ¾Ñ‰Ğ°Ğ´ÑŒ_Ğ¼Â² Ã— (Ğ¿Ğ»Ğ¾Ñ‚Ğ½Ğ¾ÑÑ‚ÑŒ_ÑÑ‚Ğ°Ğ»Ğ¸ / 7.85)
 */

const { calculateMetal } = require('./src/calculator.js');
const metalDatabase = require('./docs/database/metals.json');

console.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
console.log('ğŸ§ª Ğ¢Ğ•Ğ¡Ğ¢Ğ« Ğ”Ğ›Ğ¯ ĞŸĞ›Ğ˜Ğ¢Ğ«');
console.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n');

// =============================================================================
// Ğ¢Ğ•Ğ¡Ğ¢ 1: Ğ Ğ°Ğ·Ğ¼ĞµÑ€ 60 Ğ¼Ğ¼, ĞŸĞ»Ğ¾Ñ‰Ğ°Ğ´ÑŒ 1 Ğ¼Â², Ğ¡Ñ‚Ğ°Ğ»ÑŒ ÑÑ‚3
// =============================================================================
console.log('ğŸ“‹ Ğ¢Ğ•Ğ¡Ğ¢ 1: ĞŸĞ»Ğ¸Ñ‚Ğ° 60Ğ¼Ğ¼, 1 Ğ¼Â², ÑÑ‚3');
console.log('â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n');

const test1 = calculateMetal({
  metalType: 'plate',
  size: '60',
  area: 1,
  steelType: 'ÑÑ‚3'
}, metalDatabase);

console.log('ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹:');
console.log('  Ğ¢Ğ¾Ğ»Ñ‰Ğ¸Ğ½Ğ°: 60 Ğ¼Ğ¼');
console.log('  ĞŸĞ»Ğ¾Ñ‰Ğ°Ğ´ÑŒ: 1 Ğ¼Â²');
console.log('  ĞœĞ°Ñ€ĞºĞ° ÑÑ‚Ğ°Ğ»Ğ¸: ÑÑ‚3 (7.85 Ñ‚/Ğ¼Â³)');
console.log('  ĞšĞ¾ÑÑ„Ñ„Ğ¸Ñ†Ğ¸ĞµĞ½Ñ‚: 471 ĞºĞ³/Ğ¼Â²');
console.log();

console.log('Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚:');
console.log(`  weightPerMeter (Ğ²ĞµÑ 1 Ğ¼Â²): ${test1.weightPerMeter} ĞºĞ³`);
console.log(`  weight (Ğ²ĞµÑ): ${test1.weight} Ñ‚`);
console.log();

console.log('Ğ Ğ°ÑÑ‡Ñ‘Ñ‚:');
console.log('  Ğ²ĞµÑ = 471 Ã— 1 Ã— (7.85 / 7.85) = 471 ĞºĞ³');
console.log();

const expectedWeight1 = 0.471; // 471 ĞºĞ³ = 0.471 Ñ‚
const test1Passed = Math.abs(test1.weight - expectedWeight1) < 0.001;

console.log(`ĞĞ¶Ğ¸Ğ´Ğ°ĞµÑ‚ÑÑ: ${expectedWeight1} Ñ‚`);
console.log(`ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¾: ${test1.weight} Ñ‚`);
console.log(`ğŸ“Š Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ: ${test1Passed ? 'âœ… PASSED' : 'âŒ FAILED'}\n`);

// =============================================================================
// Ğ¢Ğ•Ğ¡Ğ¢ 2: Ğ Ğ°Ğ·Ğ¼ĞµÑ€ 60 Ğ¼Ğ¼, ĞŸĞ»Ğ¾Ñ‰Ğ°Ğ´ÑŒ 10 Ğ¼Â², Ğ¡Ñ‚Ğ°Ğ»ÑŒ ÑÑ‚3
// =============================================================================
console.log('ğŸ“‹ Ğ¢Ğ•Ğ¡Ğ¢ 2: ĞŸĞ»Ğ¸Ñ‚Ğ° 60Ğ¼Ğ¼, 10 Ğ¼Â², ÑÑ‚3');
console.log('â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n');

const test2 = calculateMetal({
  metalType: 'plate',
  size: '60',
  area: 10,
  steelType: 'ÑÑ‚3'
}, metalDatabase);

console.log('ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹:');
console.log('  Ğ¢Ğ¾Ğ»Ñ‰Ğ¸Ğ½Ğ°: 60 Ğ¼Ğ¼');
console.log('  ĞŸĞ»Ğ¾Ñ‰Ğ°Ğ´ÑŒ: 10 Ğ¼Â²');
console.log('  ĞœĞ°Ñ€ĞºĞ° ÑÑ‚Ğ°Ğ»Ğ¸: ÑÑ‚3 (7.85 Ñ‚/Ğ¼Â³)');
console.log('  ĞšĞ¾ÑÑ„Ñ„Ğ¸Ñ†Ğ¸ĞµĞ½Ñ‚: 471 ĞºĞ³/Ğ¼Â²');
console.log();

console.log('Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚:');
console.log(`  weightPerMeter (Ğ²ĞµÑ 1 Ğ¼Â²): ${test2.weightPerMeter} ĞºĞ³`);
console.log(`  weight (Ğ²ĞµÑ): ${test2.weight} Ñ‚`);
console.log();

console.log('Ğ Ğ°ÑÑ‡Ñ‘Ñ‚:');
console.log('  Ğ²ĞµÑ = 471 Ã— 10 Ã— (7.85 / 7.85) = 4710 ĞºĞ³');
console.log();

const expectedWeight2 = 4.71; // 4710 ĞºĞ³ = 4.71 Ñ‚
const test2Passed = Math.abs(test2.weight - expectedWeight2) < 0.001;

console.log(`ĞĞ¶Ğ¸Ğ´Ğ°ĞµÑ‚ÑÑ: ${expectedWeight2} Ñ‚`);
console.log(`ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¾: ${test2.weight} Ñ‚`);
console.log(`ğŸ“Š Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ: ${test2Passed ? 'âœ… PASSED' : 'âŒ FAILED'}\n`);

// =============================================================================
// Ğ¢Ğ•Ğ¡Ğ¢ 3: Ğ Ğ°Ğ·Ğ¼ĞµÑ€ 60 Ğ¼Ğ¼, ĞŸĞ»Ğ¾Ñ‰Ğ°Ğ´ÑŒ 10 Ğ¼Â², Ğ¡Ñ‚Ğ°Ğ»ÑŒ ÑÑ‚45
// =============================================================================
console.log('ğŸ“‹ Ğ¢Ğ•Ğ¡Ğ¢ 3: ĞŸĞ»Ğ¸Ñ‚Ğ° 60Ğ¼Ğ¼, 10 Ğ¼Â², ÑÑ‚45');
console.log('â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n');

const test3 = calculateMetal({
  metalType: 'plate',
  size: '60',
  area: 10,
  steelType: 'ÑÑ‚45'
}, metalDatabase);

console.log('ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹:');
console.log('  Ğ¢Ğ¾Ğ»Ñ‰Ğ¸Ğ½Ğ°: 60 Ğ¼Ğ¼');
console.log('  ĞŸĞ»Ğ¾Ñ‰Ğ°Ğ´ÑŒ: 10 Ğ¼Â²');
console.log('  ĞœĞ°Ñ€ĞºĞ° ÑÑ‚Ğ°Ğ»Ğ¸: ÑÑ‚45 (7.826 Ñ‚/Ğ¼Â³)');
console.log('  ĞšĞ¾ÑÑ„Ñ„Ğ¸Ñ†Ğ¸ĞµĞ½Ñ‚: 471 ĞºĞ³/Ğ¼Â²');
console.log();

console.log('Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚:');
console.log(`  weightPerMeter (Ğ²ĞµÑ 1 Ğ¼Â²): ${test3.weightPerMeter} ĞºĞ³`);
console.log(`  weight (Ğ²ĞµÑ): ${test3.weight} Ñ‚`);
console.log();

console.log('Ğ Ğ°ÑÑ‡Ñ‘Ñ‚:');
console.log('  Ğ²ĞµÑ = 471 Ã— 10 Ã— (7.826 / 7.85) = 4695.5 ĞºĞ³');
console.log();

const expectedWeight3 = 4.696; // 4695.5 ĞºĞ³ â‰ˆ 4.696 Ñ‚ (Ğ¾ĞºÑ€ÑƒĞ³Ğ»ĞµĞ½Ğ¸Ğµ Ğ´Ğ¾ 3 Ğ·Ğ½Ğ°ĞºĞ¾Ğ²)
const test3Passed = Math.abs(test3.weight - expectedWeight3) < 0.001;

console.log(`ĞĞ¶Ğ¸Ğ´Ğ°ĞµÑ‚ÑÑ: ${expectedWeight3} Ñ‚`);
console.log(`ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¾: ${test3.weight} Ñ‚`);
console.log(`ğŸ“Š Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ: ${test3Passed ? 'âœ… PASSED' : 'âŒ FAILED'}\n`);

// =============================================================================
// Ğ˜Ğ¢ĞĞ“Ğ˜
// =============================================================================
console.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
console.log('ğŸ“Š Ğ˜Ğ¢ĞĞ“Ğ˜ Ğ¢Ğ•Ğ¡Ğ¢Ğ˜Ğ ĞĞ’ĞĞĞ˜Ğ¯');
console.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n');

const allPassed = test1Passed && test2Passed && test3Passed;

if (allPassed) {
  console.log('âœ… Ğ’Ğ¡Ğ• Ğ¢Ğ•Ğ¡Ğ¢Ğ« ĞŸĞ ĞĞ™Ğ”Ğ•ĞĞ« Ğ£Ğ¡ĞŸĞ•Ğ¨ĞĞ!\n');
  console.log('ğŸ‰ ĞŸĞ»Ğ¸Ñ‚Ğ° Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾:');
  console.log('   1. Ğ Ğ°ÑÑ‡Ñ‘Ñ‚ Ñ ÑÑ‚3 Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ (Ñ‚ĞµÑÑ‚ 1 Ğ¸ 2)');
  console.log('   2. ĞœĞ°Ñ€ĞºĞ° ÑÑ‚Ğ°Ğ»Ğ¸ Ğ²Ğ»Ğ¸ÑĞµÑ‚ Ğ½Ğ° Ğ²ĞµÑ (Ñ‚ĞµÑÑ‚ 3)');
  console.log('   3. Ğ¤Ğ¾Ñ€Ğ¼ÑƒĞ»Ğ° Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾\n');
  console.log('âœ… Ğ¤Ğ¾Ñ€Ğ¼ÑƒĞ»Ğ°: Ğ²ĞµÑ = ĞºĞ¾ÑÑ„Ñ„Ğ¸Ñ†Ğ¸ĞµĞ½Ñ‚ Ã— Ğ¿Ğ»Ğ¾Ñ‰Ğ°Ğ´ÑŒ Ã— (Ğ¿Ğ»Ğ¾Ñ‚Ğ½Ğ¾ÑÑ‚ÑŒ_ÑÑ‚Ğ°Ğ»Ğ¸ / 7.85)\n');
  process.exit(0);
} else {
  console.log('âŒ ĞĞ•ĞšĞĞ¢ĞĞ Ğ«Ğ• Ğ¢Ğ•Ğ¡Ğ¢Ğ« ĞĞ• ĞŸĞ ĞĞ¨Ğ›Ğ˜!\n');
  console.log(`   Ğ¢ĞµÑÑ‚ 1: ${test1Passed ? 'âœ…' : 'âŒ'}`);
  console.log(`   Ğ¢ĞµÑÑ‚ 2: ${test2Passed ? 'âœ…' : 'âŒ'}`);
  console.log(`   Ğ¢ĞµÑÑ‚ 3: ${test3Passed ? 'âœ…' : 'âŒ'}\n`);
  process.exit(1);
}

console.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
